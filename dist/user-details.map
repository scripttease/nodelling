{"version":3,"sources":["user-details.js"],"names":["data","language","count","margin","width","height","maxDataCount","reduce","prev","curr","scl","d3","scaleLinear","domain","range","svg","select","append","attr","barWidth","barSpace","chartHeight","chartWidth","length","selectAll","enter","d","i","on","console","log","xPosition","yPosition","style","text","classed","transition","delay","myRange","n","Array","keys","xArray","map","chart","x","scaleBand","y","max","call","axisLeft","axisBottom"],"mappings":"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","file":"user-details.map","sourceRoot":"../public","sourcesContent":["//File for d3 graphs code\n//see https://bost.ocks.org/mike/bar/\n//section coding a chart automatically\n// don't forget you need css to see stuff\n\n// need a bundler like parcel to import \nconst data = [{ language: 'SuperCollider', count: 13 },\n{ language: 'HCL', count: 144 },\n{ language: 'Groovy', count: 298 },\n{ language: 'Jupyter Notebook', count: 627 },\n{ language: 'CoffeeScript', count: 844 },\n{ language: 'Makefile', count: 2056 },\n{ language: 'C', count: 3972 },\n{ language: 'Processing', count: 10744 },\n{ language: 'Elixir', count: 17939 },\n{ language: 'Shell', count: 33143 },\n{ language: 'Vim script', count: 78029 },\n{ language: 'CSS', count: 119758 },\n{ language: 'Scala', count: 131638 },\n{ language: 'HTML', count: 223061 },\n{ language: 'JavaScript', count: 317581 },\n{ language: 'Ruby', count: 333298 },//]\n{ language: 'Python', count: 6342896 } ]\n\n// svg size\n//need margin for axes\nconst margin = 90\nconst width = 400\nconst height = 400\n//TODO max count!!\n\nconst maxDataCount = data.reduce((prev, curr) => (prev.count > curr.count) ? prev.count : curr.count)\n// scale should crate a fn that takes the datum \n// val eg 5, divides it by the doain max then \n// multiples it by the range max\nconst scl = d3.scaleLinear()\n  // actual data values range\n  .domain([0, maxDataCount])\n  // range == width on page?\n  .range([0, height]);\n\n// create container with classname chart\nconst svg = d3.select(\"body\").append(\"svg\")\n  .attr(\"width\", width + 2*margin)\n  .attr(\"height\", height + 2*margin)\n  .attr(\"class\", 'chart')\n// .append(\"g\")\n\n\n// bar width in px\n// TODO change this to a fn of the num of langs\nconst barWidth = 15\n//space in between bars\nconst barSpace = 0.5\nconst chartHeight = 400\n//TODO change barwidth if there are too many langs for a whole page width\nconst chartWidth = data.length*barWidth + data.length*barSpace\n\nd3.select('.chart')\n  // selectall is like a foreach\n  .selectAll('rect')\n  // so each data point is selected seperately\n  .data(data)\n  .enter().append('rect')\n  .attr(\"class\", \"bar\")\n  .attr(\"width\", barWidth)\n  // d === each data obj(elem) in array\n  // i is its index\n  .attr(\"x\", function (d, i) { return barWidth * i + barSpace * i + margin})\n  .attr(\"y\", chartHeight + margin)\n\n  // tooltips must come before transition idk why\n  // see http://bl.ocks.org/WilliamQLiu/0aab9d28ab1905ac2c8d\n  .on('mouseover', function(d) { console.log('mouseover' + d.language); })\n\n  .on(\"mouseover\", function (d, i) {  // Create tooltip on mouseover\n    const xPosition = barWidth + (i*barWidth)\n    const yPosition = chartHeight - scl(d.count)/2 + 90\n\n    // Update the tooltip position and value\n   // requires addition to html\n    d3.select(\"#tooltip\")\n    // nb this really depends on what is on page\n    //already for the y position!\n      .style(\"left\", xPosition + \"px\")\n      .style(\"top\", yPosition + \"px\")\n      .select(\"#value\")\n      .text(d.language + ' ' + d.count + ' bytes')\n\n    d3.select(\"#tooltip\").classed(\"hidden\", false);  // Show the tooltip\n  })\n  .on(\"mouseout\", function () {  // 'Destroy' tooltip on mouseout\n    d3.select(\"#tooltip\").classed(\"hidden\", true);  // Hide the tooltip\n  })\n\n  // transition\n   //starting height\n  .attr(\"height\", 0)\n  .transition()\n  .delay(function (d, i) { return i * 100; })\n  // because starts drawing rect at top\n  .attr(\"y\", function (d, i) { return chartHeight + margin - scl(d.count); })\n  .attr(\"height\", function (d) { return scl(d.count); })\n\n function myRange(n) {\n  return [...Array(n).keys()];\n}   \n\nconst xArray = data.map(d => d.language)\n    // scale and axes\n    //see http://bl.ocks.org/flunky/1a8b1bb608c06736f1ed4015065cbbb0\n    //see https://bl.ocks.org/d3noob/23e42c8f67210ac6c678db2cd07a747e\nconst chart = d3.select(\".chart\");\nconst x = d3.scaleBand()\n\t// .domain(myRange(data.length))\n    .range([0,chartWidth]);\nconst y = d3.scaleLinear()\n\t// .domain([0,333298])\n    .range([height,0]);\n  // Scale the range of the data\n  x.domain(xArray)\n  y.domain([0, d3.max(data, function(d) { return d.count; })]);\n\n  // add axis label\nchart.append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin + \",\" + margin + \")\")\n  .call(d3.axisLeft(y));\n\n// must do appends in correct order\n// see https://bl.ocks.org/d3noob/23e42c8f67210ac6c678db2cd07a747e\n  // text title for the x axis\nchart.append(\"text\")\n  .attr(\"transform\",\n    \"translate(\" + (width / 2) + \" ,\" +\n    (height + margin + 80) + \")\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", \"sans-serif\")\n  .text(\"Language\");\n\nchart.append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin + \",\" + (height + margin) + \")\")\n  .call(d3.axisBottom(x))\n  // rotate axis lables\n  // see https://bl.ocks.org/d3noob/3c040800ff6457717cca586ae9547dbf\n  .selectAll(\"text\")\n  .style(\"text-anchor\", \"end\")\n  .style(\"font-family\", \"sans-serif\")\n  .attr(\"dx\", \"-.8em\")\n  .attr(\"dy\", \".15em\")\n  .attr(\"transform\", \"rotate(-65)\");\n\n// text title for the y axis\nchart.append(\"text\")\n.attr(\"transform\", \"rotate(-90)\")\n.attr(\"y\", 0 )\n.attr(\"x\",0 - (height / 2)- margin)\n.attr(\"dy\", \"1em\")\n.style(\"text-anchor\", \"middle\")\n.style(\"font-family\", \"sans-serif\")\n.text(\"Bytes\");      "]}